<!-- Lidar camera ID: f1230787 -->
<launch>
    <arg name="lidar_cam" default="lidar_cam"/>
    <arg name="left_cam" default="left_cam"/>
    <arg name="right_cam" default="right_cam"/>
    <arg name="tf_prefix_lidar_cam" default="$(arg lidar_cam)"/>
    <arg name="lidar_cam_transform" default="0 0 0 0 0 -1.57079633"/>

    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_depth_optical_frame_transform" args="$(arg lidar_cam_transform) lidar_cam_depth lidar_cam_depth_optical_frame 100" />
    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_depth_frame_transform" args="$(arg lidar_cam_transform) lidar_cam_depth lidar_cam_depth_frame 100" />
    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_link_transform" args="$(arg lidar_cam_transform) lidar_cam_depth lidar_cam_link 100" />
    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_color_frame_transform" args="$(arg lidar_cam_transform) lidar_cam_rgb lidar_cam_color_frame 100" />
    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_color_optical_frame_transform" args="$(arg lidar_cam_transform) lidar_cam_rgb lidar_cam_color_optical_frame 100" />

    <node pkg="tf" type="static_transform_publisher" name="tripod_joint_pub" args="0 0 1.3 0 0 0 map tripod_joint 100"/>
    <node pkg="tf" type="static_transform_publisher" name="tripod_platorm_pub" args="0 0 0.088 0 0 -0.27925268 tripod_joint tripod_platorm 100"/>
    
    <node pkg="tf" type="static_transform_publisher" name="cam_left_tf_pub" args="-0.12 0 0.033 0 0 0 tripod_platorm cam_left 100"/>
    <node pkg="tf" type="static_transform_publisher" name="cam_right_tf_pub" args="0.12 0 0.033 0 0 0 tripod_platorm cam_right 100"/>

    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_depth_pub" args="0 0 0.055 0 0 0 tripod_platorm lidar_cam_depth 100"/>
    <node pkg="tf" type="static_transform_publisher" name="lidar_cam_rgb_pub" args="0 0 0.07 0 0 0 tripod_platorm lidar_cam_rgb 100"/>

    <include file="$(find audio_capture)/launch/capture.launch"></include>

    <node pkg="usb_cam" type="usb_cam_node" name="left_cam_node">
        <param name="camera_name" value="$(arg left_cam)" />
        <param name="camera_frame_id" value="cam_left" />
        <param name="video_device" value="/dev/video2" />
        <param name="pixel_format" value="uyvy" />
        <param name="create_suspended" value="false" />
        <param name="camera_info_url" value="package://dataset/config/left_cam.yaml"/>
        <param name="image_width" value="960" />
        <param name="image_height" value="540" />
    </node>
    <node pkg="usb_cam" type="usb_cam_node" name="right_cam_node">
        <param name="camera_name" value="$(arg right_cam)" />
        <param name="camera_frame_id" value="cam_right" />
        <param name="video_device" value="/dev/video12" />
        <param name="pixel_format" value="uyvy" />
        <param name="create_suspended" value="false" />
        <param name="camera_info_url" value="package://dataset/config/right_cam.yaml"/>
        <param name="image_width" value="960" />
        <param name="image_height" value="540" />
    </node>

    <include file="$(find realsense2_camera)/launch/rs_camera.launch">
        <arg name="camera" value="$(arg lidar_cam)" />
    </include>

    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find dataset)/rviz/config.rviz" />
</launch>